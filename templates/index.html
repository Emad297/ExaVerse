<!DOCTYPE html>
<html>
    <head>
        <title>Chat UI</title>
    </head>
    <body>
        <div id="chat-messages"></div>
        <form id="chat-form">
            <input type="text" id="message-input" />
            <button type="submit">Send</button>
        </form>
        <script>
            const chatForm = document.getElementById('chat-form');
            const messageInput = document.getElementById('message-input');
            const chatMessages = document.getElementById('chat-messages');

            chatForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const message = messageInput.value;
                messageInput.value = '';
                const xhr = new XMLHttpRequest();
                xhr.open('POST', 'exaversetest.azurewebsites.net/generate');
                xhr.setRequestHeader('Content-Type', 'application/json');
                xhr.onload = () => {
                    const responseText = xhr.responseText;
                    const messageElement = document.createElement('div');
                    messageElement.textContent = responseText;
                    chatMessages.appendChild(messageElement);
                };
                xhr.send(JSON.stringify({ prompt: message }));
            });
        </script>
    </body>
</html>
